<!DOCTYPE html>
<html>
  <head>
      <link rel="stylesheet" href="{{resourcesRoot}}/fragments/global.css" type="text/css">
      <link rel="stylesheet" href="{{resourcesRoot}}/argument.css" type="text/css">
      <title>{{ argument.conclusion }} - Wikisophia</title>
  </head>
  <body>
    <header>
      {{> header }}
    </header>
    <main>
      <!-- If javascript is enabled, React will purge view-argument-anchor and make things editable. -->
      <section id="view-argument-anchor">
        <div>
          <div>
            <section class="conclusion">
              <p class="conclusion-text">{{argument.conclusion}}</p>
            </section>
            <p>because...</p>
            <section class="premises">
              <ul>
                {{#each argument.premises}}
                  <li class="premise">
                    <a class="premise-text" href="/argument?conclusion={{this}}">{{this}}</a>
                  </li>
                {{/each}}
              </ul>
            </section>
          </div>
          <p>
            Not convincing? See <a href="/arguments?conclusion={{argument.conclusion}}">all the arguments</a>
            supporting this conclusion, or <a href="/add-argument?conclusion={{argument.conclusion}}">contribute your own</a>.
          </p>
        </div>
      </section>
    </main>
    {{> react }}
    <script src="{{resourcesRoot}}/argument.js"></script>
    <script>
      ReactDOM.render(
        React.createElement(wikisophia.StatefulEditableArgument, {
          apiAuthority: '{{apiAuthority}}',
          argumentId: '{{id}}',
          conclusion: '{{argument.conclusion}}',
          premises: [
            {{#each argument.premises}}
              '{{this}}',
            {{/each}}
          ]
        }),
        document.getElementById("view-argument-anchor"));
    </script>
  </body>
</html>