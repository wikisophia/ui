<!DOCTYPE html>
<html>
  <head>
      <link rel="stylesheet" href="{{resourcesRoot}}/fragments/global.css" type="text/css">
      <link rel="stylesheet" href="{{resourcesRoot}}/argument.css" type="text/css">
      <title>{{ argument.conclusion }} - Wikisophia</title>
  </head>
  <body>
    <header>
      {{> header }}
    </header>
    <main>
      <!--
        This section must be kept in sync with the React component at
        <project-root>/cdn/src/components/Argument.jsx

        If javascript is enabled, React will purge the view-argument-anchor
        to make things editable.
      -->
      <section id="view-argument-anchor" class="main-content">
        <div>
          <h1>If</h1>
          <section class="premises">
            <ul>
              {{#each argument.premises}}
              <li class="premise">
                <span class="premise-text">{{this}}</span>
                <a href="/arguments?conclusion={{this}}">Prove it</a>
              </li>
              {{/each}}
            </ul>
          </section>
          <h1>Then</h1>
          <section class="conclusion">
            <p class="conclusion-text">{{argument.conclusion}}</p>
          </section>
        </div>
      </section>
    </main>
    {{> react }}
    <script src="{{resourcesRoot}}/argument.js"></script>
    <script>
      ReactDOM.render(
        React.createElement(wikisophia.Argument, {
          apiAuthority: '{{apiAuthority}}',
          argumentId: '{{id}}',
          conclusion: '{{argument.conclusion}}',
          premises: [
            {{#each argument.premises}}
              '{{this}}',
            {{/each}}
          ]
        }),
        document.getElementById("view-argument-anchor"));
    </script>
  </body>
</html>